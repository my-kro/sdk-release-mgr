name: CI

on:
  workflow_dispatch:
    inputs:
      sdk: 
        description: "Source SDK to release"
        required: true
        default: "usage-metrics" #TODO - dropdown from list tied to something like sdks.json.
      version:
        description: "Release Version"
        required: true
      consumer:
        description: "Environment to Deploy to"
        required: true
        default: "esperanto"


env:
  SOURCE: ${{ github.event.inputs.sdk }}
  VERSION: ${{ github.event.inputs.version }}
  TARGET: ${{ github.event.inputs.consumer }}
  PR_BRANCH: autoBump/SOURCE_TARGET


jobs:

  bump-version:
    runs-on: ubuntu-latest
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2

      - name: Check Input
        run: |
          echo ${{ github.event.inputs.sdk }}
          echo ${{ github.event.inputs.version }}
          echo ${{ github.event.inputs.consumer }}
          echo env.SOURCE env.VERSION env.TARGET
      - name: Clone Repo
        run: |
          echo ${{ github.event.inputs.sdk }}
          echo ${{ github.event.inputs.version }}
          echo ${{ github.event.inputs.consumer }}
          
